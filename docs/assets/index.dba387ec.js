var T=Object.defineProperty;var x=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var b=(e,t,o)=>t in e?T(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,y=(e,t)=>{for(var o in t||(t={}))I.call(t,o)&&b(e,o,t[o]);if(x)for(var o of x(t))S.call(t,o)&&b(e,o,t[o]);return e};import{o as i,c as l,a,b as g,r as d,d as u,w as v,e as m,F as $,h as j,t as h,f as N,v as G,g as L,i as P,j as H,k as O,l as B,m as A}from"./vendor.838f757f.js";const M=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function o(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerpolicy&&(n.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?n.credentials="include":s.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(s){if(s.ep)return;s.ep=!0;const n=o(s);fetch(s.href,n)}};M();var _=(e,t)=>{const o=e.__vccOpts||e;for(const[r,s]of t)o[r]=s;return o};const V={name:"Icon",props:["path","loadingText"]},W={class:"flex flex-col gap-2 items-center justify-center"},Y=["src"],E={key:0,class:"font-semibold text-xs text-gray-500"};function F(e,t,o,r,s,n){return i(),l("div",W,[a("img",{src:o.path,alt:""},null,8,Y),o.loadingText?(i(),l("small",E,"Loading...")):g("",!0)])}var w=_(V,[["render",F]]);const R={name:"Header",components:{Icon:w}},U={class:"w-full text-center text-gray-100 bg-blue-800 p-6 space-y-3"},q={class:"flex items-center justify-center gap-1"},K={class:"text-3xl md:text-4xl font-bold"},z=m("Covid-19 Tracker");function J(e,t,o,r,s,n){const c=d("Icon"),p=d("router-link");return i(),l("header",U,[a("div",q,[u(c,{class:"w-8",path:"./src/assets/svg/virus.svg"}),a("h1",K,[u(p,{to:"/"},{default:v(()=>[z]),_:1})])])])}var Q=_(R,[["render",J]]);const X={components:{Header:Q}},Z={class:"_screen-height"},tt={class:"container mt-4"},et={class:"sticky bottom-0 left-0 w-full text-center p-1 font-semibold text-sm bg-slate-100 text-gray-400"},st=m("About this project");function ot(e,t,o,r,s,n){const c=d("Header"),p=d("router-view"),f=d("router-link");return i(),l($,null,[a("main",Z,[u(c),a("div",tt,[u(p)])]),a("footer",et,[u(f,{to:"/about",class:"underline hover:text-gray-700"},{default:v(()=>[st]),_:1})])],64)}var at=_(X,[["render",ot]]);const nt={name:"DataTitle",props:["title","date"],data(){return{}},computed:{timestamp(){return j(this.date).format("MMMM Do YYYY, h:mm:ss a")}}},rt={class:"flex flex-col items-center justify-center"},ct={class:"text-2xl font-bold"},it=["datetime"];function lt(e,t,o,r,s,n){return i(),l("div",rt,[a("h2",ct,h(o.title),1),a("div",null,[a("time",{class:"text font text-gray-600",datetime:o.date},h(n.timestamp),9,it)])])}var dt=_(nt,[["render",lt]]);const ut={name:"Databoxes",props:["stats"],data(){return{}},computed:{statsWithComma(){const e=Object.keys(this.stats),t=Object.values(this.stats).map(r=>r.toLocaleString());let o={};for(let r=0;r<e.length;r++)o[e[r]]=t[r];return o}}},ht={class:"grid gap-6 sm:grid-cols-2 max-w-xs sm:max-w-3xl lg:max-w-7xl mx-auto justify-center text-lg"},_t={class:"bg-blue-100 _data-box"},mt=a("h3",{class:"font-bold text-center pb-1"},"Cases",-1),pt={class:"font-semibold"},ft=a("span",{class:"text-gray-500 font-normal"},"New:",-1),gt=a("span",{class:"text-gray-500 font-normal"},"Total:",-1),vt={class:"bg-purple-100 _data-box"},xt=a("h3",{class:"font-bold text-center pb-1"},"Deaths",-1),bt={class:"font-semibold"},yt=a("span",{class:"text-gray-500 font-normal"},"New:",-1),$t=a("span",{class:"text-gray-500 font-normal"},"Total:",-1);function wt(e,t,o,r,s,n){return i(),l("div",ht,[a("div",_t,[mt,a("div",pt,[a("p",null,[ft,m(" "+h(n.statsWithComma.NewConfirmed),1)]),a("p",null,[gt,m(" "+h(n.statsWithComma.TotalConfirmed),1)])])]),a("div",vt,[xt,a("div",bt,[a("p",null,[yt,m(" "+h(n.statsWithComma.NewDeaths),1)]),a("p",null,[$t,m(" "+h(n.statsWithComma.TotalDeaths),1)])])])])}var Ct=_(ut,[["render",wt]]);const kt={name:"CountrySelect",props:["countries"],data(){return{selectedId:"Global"}},methods:{onChange(){if(this.selectedId==="Global"){this.$emit("country-changed","Global");return}const e=this.countries.find(t=>t.ID===this.selectedId);this.$emit("country-changed",y({},e))}}},Dt=a("option",{value:"Global",selected:"",class:"font-semibold italic"},"Global",-1),Tt=["value"];function It(e,t,o,r,s,n){return N((i(),l("select",{"onUpdate:modelValue":t[0]||(t[0]=c=>s.selectedId=c),onChange:t[1]||(t[1]=(...c)=>n.onChange&&n.onChange(...c)),class:"block max-w-fit w-full mx-auto p-2 text-lg border border-gray-500"},[Dt,(i(!0),l($,null,L(o.countries,c=>(i(),l("option",{key:c.ID,value:c.ID},h(c.Country),9,Tt))),128))],544)),[[G,s.selectedId]])}var St=_(kt,[["render",It]]);const jt={name:"HomePage",components:{Icon:w,DataTitle:dt,DataBoxes:Ct,CountrySelect:St},data(){return{covidData:{},covidStat:{},dataCountry:"Global",dataLoaded:!1,loading:!0,fetchTimeout:!1,elapsedTime:5,elapsedTimeInterval:null}},methods:{async fetchCovidData(){setTimeout(()=>{this.dataLoaded||(this.fetchTimeout=!0,this.elapsedTimeInterval=setInterval(()=>{this.elapsedTime+=1},1e3))},5e3);const e=await(await fetch("https://api.covid19api.com/summary")).json();this.covidData=e,this.covidStat=e.Global},refreshPage(){window.location.reload()},updateDataCountry(e){if(e==="Global"){this.dataCountry="Global",this.covidStat=this.covidData.Global;return}this.dataCountry=e.Country,this.covidStat=e}},watch:{covidData(e){var t;(t=Object.keys(e))!=null&&t[0]&&(this.fetchTimeout=!1,this.dataLoaded=!0,clearInterval(this.elapsedTimeInterval))}},async created(){await this.fetchCovidData(),this.loading=!1}},Nt={class:"max-w-xl mx-auto py-4 space-y-6"},Gt={key:1,class:"flex justify-between items-center bg-orange-100 rounded-md px-2 py-1"},Lt={class:"italic font"},Pt=a("p",null,"This shouldn't take this long! Your connection is slow or unstable.",-1),Ht=a("span",null,"Elapsed time:\xA0",-1);function Ot(e,t,o,r,s,n){const c=d("Icon"),p=d("DataTitle"),f=d("DataBoxes"),k=d("CountrySelect");return i(),l("section",Nt,[s.loading?(i(),P(c,{key:0,"loading-text":"true",path:"./src/assets/svg/loading-circle.svg",class:"w-20 mx-auto mt-4"})):g("",!0),s.fetchTimeout?(i(),l("div",Gt,[a("div",Lt,[Pt,Ht,a("span",null,h(s.elapsedTime)+" sec",1)]),a("button",{onClick:t[0]||(t[0]=(...D)=>n.refreshPage&&n.refreshPage(...D)),class:"border-2 border-blue-800 font-semibold p-1 text-sm rounded-lg hover:bg-slate-200 transition"},"Refresh page")])):g("",!0),u(p,{title:s.dataCountry,date:s.covidData.Date},null,8,["title","date"]),u(f,{stats:s.covidStat},null,8,["stats"]),u(k,{countries:s.covidData.Countries,onCountryChanged:n.updateDataCountry},null,8,["countries","onCountryChanged"])])}var Bt=_(jt,[["render",Ot]]);const At={},Mt={class:"bg-slate-100 hover:bg-slate-200 max-w-xs mx-auto rounded-md py-4 px-8 mt-8 text-center transition-all space-y-4"},Vt=H('<h2 class="text-xl font-semibold"> Created by <a href="https://github.com/devmor-j" target="_blank" title="Github link" class="underline font-bold"><span class="transition-[font-weight] hover:font-black hover:text-red-500">D</span><span class="transition-[font-weight] hover:font-black hover:text-orange-500">e</span><span class="transition-[font-weight] hover:font-black hover:text-yellow-500">v</span><span class="transition-[font-weight] hover:font-black hover:text-lime-500">m</span><span class="transition-[font-weight] hover:font-black hover:text-green-500">o</span><span class="transition-[font-weight] hover:font-black hover:text-teal-500">r</span></a></h2><h3><span class="text-gray-400">API by\xA0</span><a class="text-blue-400 hover:text-blue-700" href="https://covid19api.com/" target="_blank">covid19api.com</a></h3><p class="text-lg font-semibold pt-4">Use this app to get the latest covid-19 stats about new cases and deaths.</p>',3),Wt={class:"underline text text-gray-400 hover:text-gray-700"},Yt=m("Homepage");function Et(e,t){const o=d("router-link");return i(),l("div",Mt,[Vt,a("div",Wt,[u(o,{to:"/"},{default:v(()=>[Yt]),_:1})])])}var Ft=_(At,[["render",Et]]);const Rt=[{path:"/",component:Bt},{path:"/about",component:Ft}],Ut=O({history:B(),routes:Rt}),C=A(at);C.use(Ut);C.mount("#app");
